pipeline {
    agent any 
    stages {
         stage('Send notification') { 
            steps {
      script {
            def mailRecipients = 'sidhesh91@gmail.com,shirmukherjee1@gmail.com,sunilskp24@gmail.com'
            def jobName = currentBuild.fullDisplayName
            emailext body: '''${SCRIPT, template="groovy-html.template"}''',
            mimeType: 'text/html',
            subject: "[Jenkins] ${jobName}",
            to: "${mailRecipients}",
            replyTo: "${mailRecipients}",
            recipientProviders: [[$class: 'CulpritsRecipientProvider']]
        }
            }
        }
        stage('Build source code ') { 
            steps {
               echo " Build source code"
               sh 'sleep 15'
            }
        }
        stage('Static code analysis') { 
            steps {
                echo "RUn soarqube===============>"
                sh 'sleep 15'
            }
        }
        
        stage('Send Test resulsts') { 
            steps {
                echo "Send test results===============>"
                sh 'sleep 15'
            }
        }
        stage('Test source code ') { 
            steps {
                echo "Deploy step"
                sh ' sleep 15'
            }
            }
         stage('Prepare Testing environment') { 
            steps {
                echo "Create VM================>"
                sh 'sleep 15'
            }
            }
             stage('Deploy code on Dev') { 
            steps {
                echo "Deploy step========================>"
                sh 'sleep 15'
            }
            }
            
            stage('Send Notification') { 
            steps {
                echo "Send feedback==================>"
                sh 'sleep 15'
            }
        }
        }
    }

